
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<link rel="stylesheet" href="../css/bootstrap.min.css" />
		<link rel="stylesheet" href="../css/base.css" />
		<link rel="stylesheet" href="../css/home.css" />
		<script type="text/javascript" src="../js/jquery-1.11.1.min.js"></script>
		<script type="text/javascript" src="../js/bootstrap.min.js"></script>
		<script type="text/javascript" src="../js/angular.min.js" ></script>
		<script type="text/javascript" src="../js/angular-route.min.js" ></script>
		<script type="text/javascript" src="../js/angular-animate.min.js"></script>
		<style>
		</style>

	</head>

	<body ng-app="myApp" >


		<div>
			
			<div class="logo" >
				<a>IOT</a>
			</div>
		<div class="home-left" >
			<ul>
				<li class="active list-item">
					<a href="#">首页</a>
				</li>
				
				<li class=" list-item">
					<a href="#">智能设备</a>
					<ul class="sub-menu-list" >
							<li><a href="#/">设备列表</a></li>
							<li><a href="#/devicesController">设备遥控</a></li>
							<li><a href="#/addDevices">添加设备</a></li>
					</ul>
				</li>
				
				<li class="list-item">
					<a href="#">数据接口</a>
					<ul class="sub-menu-list" >
							<li><a href="#/mathLists">接口列表</a></li>
							<li><a href="#/addMath">添加接口</a></li>
					</ul>
				</li>
						
				<li class="list-item">
					<a href="#">报警提示</a>
					
					<ul class="sub-menu-list" >
							<li><a href="#/alertList">报警列表</a></li>
							<li><a href="#/addAlert">添加报警</a></li>
							<li><a href="#/timerList">定时器列表</a></li>
							<li><a href="#/addTimer">添加定时器</a></li>
					</ul>
				</li>

				<li class="list-item">
					<a href="#">话题讨论</a>
					
				</li>

				<li class="list-item">
					<a href="#">群组功能</a>
				</li>
			
			</ul>

		</div>
		
		<!--header start-->
		<div class="home-header">
			
			<div class="toggle-btn-container">
				
				<a class="toggle-btn"><span class="glyphicon glyphicon-list" aria-hidden="true"></span></a>
			</div>

			<div class="input-search-container ">
				
	<div class="input-group">
		
      	<input type="text" class="form-control" placeholder="Search for...">
     
       <span class="input-group-btn">
        <button class="btn btn-default" type="button">Go!</button>
      </span>
      
    	</div>
			</div>
			     
			<div class="my-container">
	
				
			</div>
			
		</div>
		
		
		</div>
		<!-- header end!-->
		
		<!-- mainContetn start-->
		
		<div  class="mainContent" ng-view>
			
		</div>
		<!-- mainContetn end-->
		
		
        <script>
            var app = angular.module('myApp',['ngRoute','ngAnimate']);
            app.config(['$routeProvider', function($routeProvider){
                $routeProvider
                .when('/',{templateUrl:'devices/devicesList.html',controller:'deviceListController'})
                .when('/devicesController',{templateUrl:'devices/devicesController.html'})
                .when('/addDevices',{templateUrl:'devices/addDevices.html',controller:'addDeviceController'})
                .when('/alertList',{templateUrl:'timers/alertList.html'})
                .when('/addAlert',{templateUrl:'timers/addAlert.html'})
                .when('/timerList',{templateUrl:'timers/TimerList.html'})
                .when('/addTimer',{templateUrl:'timers/addTimer.html'})
                .when('/mathLists',{templateUrl:'mathInterface/mathtList.html'})
                .when('/addMath',{templateUrl:'mathInterface/addMath.html'})
                .otherwise({redirectTo:'/'});
            }]);
            //自定义过滤器
            app.filter('isOnline', function() {
                return function(text) {
                    var text = text+"";
                    if(text=='0'){

                        text = text.replace("0","不在线");
                    }else if(text='1'){
                        text = text.replace("1","在线");
                    }

                    return text;
                }
            });

            //自定义过滤器
            app.filter('isPublic', function() {
                return function(text) {
                    var text = text+"";
                    if(text=='0'){

                        text = text.replace("0","不公开");
                    }else if(text='1'){
                        text = text.replace("1","公开");
                    }
                    return text;
                }
            });

			//设备列表
            app.controller("deviceListController",function ($scope, $http) {

                $scope.$on("$routeChangeSuccess",function(){

                    //跳转成功后触发该函数
                    console.log("ng-view content loaded!");

                    $http.get("/device/deviceList")
						.success(function (response) {

						    $scope.name="ssssss";
						    $scope.devices = response.data;

						});
                });
            })

			//添加设备
			app.controller("addDeviceController",function ($scope,$http) {

                $scope.submit=function () {

                    $http({
                        method: 'GET',
                        url: '/device/creatDevice',
                        params:{'deviceName':'device5','userId':'设备描述'}
					}).success(function (response) {

                            $scope.name="ssssss";
                            $scope.devices = response.data;

                        });
                    $("#myalert").fadeIn("slow");

                }
                $scope.reset=function () {
                    $("#myalert").fadeOut("slow");

                }

            });

        </script>
		
	</body>

</html>
